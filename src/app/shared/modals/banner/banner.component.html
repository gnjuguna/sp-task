<div class="h-auto bg-gray-100 rounded">
    <div class="p-3 bg-white shadow-md md:pb-4">
        <div class="flex justify-end p-2">
            <button class="text-gray-400" (click)="bsModalRef.hide()">
                <svg class="w-3 h-3 stroke-current stroke-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>
        </div>
        <div *ngIf="showSavingSuccessMsg"
            class="w-56 px-4 py-1 mx-auto mb-2 text-green-700 bg-green-100 border border-green-400 rounded text-2xs md:text-xs"
            role="alert">
            <p class="px-auto">Settings successfully saved.</p>
        </div>
        <div *ngIf="showSavingErrorMsg"
            class="w-56 px-4 py-1 mx-auto mb-2 text-red-700 bg-red-100 border border-red-400 rounded text-2xs md:text-xs"
            role="alert">
            <p class="px-auto">Error saving. Please try later.</p>
        </div>
        <div class="flex flex-col px-3 space-y-3 md:space-y-4">
            <h2 class="text-2xl font-bold tracking-wide text-gray-700">Can we store cookies?</h2>
            <p class="leading-4 tracking-tight text-justify text-gray-500 text-2xs">
                We and our partners use technologies, such as cookies, and process personal data, such as IP addresses
                and
                cookie identifiers, to personalise ads and content based on your interests, measure the performance of
                ads
                and content, and derive insights about the audiences who saw ads and content.
            </p>
            <p class="tracking-tight text-justify text-gray-500 text-2xs">
                Click below to consent to the use of this technology and the processing of your personal data for these
                purposes. You can change your mind and change your consent choices at any time by returning to this
                site.
            </p>
            <p class="text-justify text-gray-500 text-2xs">
                You can familiarize with our <a href="https://secureprivacy.ai/privacy-policy-sp/" target="_blank"
                    class="font-bold text-gray-700 underline">Privacy Policy</a>
            </p>
            <div class="flex flex-row justify-between pt-3 text-2xs md:text-xs">
                <div class="flex flex-row space-x-2">
                    <button
                        class="px-3 py-1 font-semibold text-white rounded-sm bg-sp-green md:px-4 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-opacity-50"
                        (click)="enableAllPlugins()">
                        Accept All
                    </button>
                    <button
                        class="px-3 py-1 text-gray-400 border border-gray-400 rounded-sm md:px-4 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-opacity-50"
                        (click)="saveSettings()">
                        Save Settings
                    </button>
                </div>
                <button
                    class="flex flex-row justify-end px-3 py-2 text-xs text-gray-400 md:px-4 hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-gray-50 focus:ring-opacity-50"
                    (click)="showCustomizePanel()">
                    <div class="flex flex-row items-center space-x-2">
                        <p>Customize</p>
                        <svg class="w-3 h-3 fill-current" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path *ngIf="hideCustomizePanel" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2"
                                d="M6.34317 7.75732L4.92896 9.17154L12 16.2426L19.0711 9.17157L17.6569 7.75735L12 13.4142L6.34317 7.75732Z">
                            </path>
                            <path *ngIf="!hideCustomizePanel" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2"
                                d="M17.6569 16.2427L19.0711 14.8285L12.0001 7.75739L4.92896 14.8285L6.34317 16.2427L12.0001 10.5858L17.6569 16.2427Z">
                            </path>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </div>
    <div [collapse]="hideCustomizePanel" class="p-4 md:p-4">
        <div class="px-3 py-1 my-2 bg-white rounded-sm shadow-sm md:px-4 md:py-2"
            *ngFor="let acc of bannerData.accordian; let i = index">
            <div class="flex flex-row items-center justify-between space-x-2">
                <div class="flex flex-row items-center pt-2">
                    <label [for]="acc?.CategoyHeading">
                        <div class="switch">
                            <input [name]="acc?.CategoyHeading" type="checkbox" class="sr-only"
                                [checked]="pluginsSelected(i)" (change)="enableAllAccordianPlugins($event,i)"
                                [id]="acc?.CategoyHeading" />
                            <div class="track"></div>
                            <div class="thumb"></div>
                        </div>
                        <span class="ml-2 font-bold text-gray-600 text-2xs">{{acc?.CategoyHeading}}</span>
                    </label>
                </div>
                <button class="flex flex-row justify-end px-4 py-2 text-xs text-gray-300" (click)="showAccordian(i)">
                    <div class="flex flex-row items-start text-gray-900">
                        <svg class="w-3 h-3 fill-current" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path *ngIf="showAccordianIndex !== i" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2"
                                d="M6.34317 7.75732L4.92896 9.17154L12 16.2426L19.0711 9.17157L17.6569 7.75735L12 13.4142L6.34317 7.75732Z">
                            </path>
                            <path *ngIf="showAccordianIndex === i" stroke-linecap="round" stroke-linejoin="round"
                                stroke-width="2"
                                d="M17.6569 16.2427L19.0711 14.8285L12.0001 7.75739L4.92896 14.8285L6.34317 16.2427L12.0001 10.5858L17.6569 16.2427Z">
                            </path>
                        </svg>
                    </div>
                </button>
            </div>
            <div *ngIf="showAccordianIndex === i" class="border-b border-gray-200"></div>
            <div class="my-3" [collapse]="showAccordianIndex !== i">
                <div classs="flex flex-col space-y-2">
                    <p class="tracking-tight text-justify text-gray-500 text-2xs">
                        {{acc?.CategoyText}}
                    </p>
                </div>
                <div class="my-3 text-left text-2xs">
                    <div class="flex flex-row mb-2 font-semibold text-gray-700">
                        <p class="w-1/3">Plugins</p>
                        <p class="w-1/3">Block/Enable</p>
                        <div class="w-1/3"></div>
                    </div>
                    <div class="flex flex-row text-gray-500" *ngFor="let plugin of acc.PluginList; let ind = index">
                        <p class="w-1/3">{{plugin?.ComplianceType}}</p>
                        <div class="w-1/3">
                            <label [for]="plugin.ComplianceTypeID">
                                <div class="switch">
                                    <input name="{{plugin.ComplianceTypeID}}" type="checkbox" class="sr-only"
                                        id="{{plugin.ComplianceTypeID}}" [(ngModel)]="plugin.BlockingEnabled" />
                                    <div class="track"></div>
                                    <div class="thumb"></div>
                                </div>
                            </label>
                        </div>
                        <a *ngIf="plugin.optOutExternalLink" [href]="plugin.optOutExternalLink" target="_blank"
                            class="w-1/3 underline hover:text-blue-500">Go to site</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>